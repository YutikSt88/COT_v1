# COT_v1: Developer Handoff Guide

Internal playbook –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –ø—Ä–æ—î–∫—Ç–æ–º COT_v1.

## üéØ –ú–µ—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- –ù–æ–≤–∏–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –Ω–µ –ª–∞–º–∞—î compute
- UI –Ω–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ data-kitchen
- –ü—Ä–æ—î–∫—Ç –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è —Ä–æ–∫–∞–º–∏

## ü§ñ AI/Agent Rules

### Patch-only –ø—ñ–¥—Ö—ñ–¥
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –º–µ—Ç–∏
- –ù–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–∏ ‚Äú–≤—Å–µ‚Äù –±–µ–∑ —è–≤–Ω–æ—ó –ø—Ä–∏—á–∏–Ω–∏

### –ù–µ —á—ñ–ø–∞—Ç–∏ –Ω–µ-–∑–∞–∑–Ω–∞—á–µ–Ω—ñ —Ñ–∞–π–ª–∏
–Ø–∫—â–æ –∑–∞–≤–¥–∞–Ω–Ω—è —Å—Ç–æ—Å—É—î—Ç—å—Å—è `src/app/pages/overview_mvp.py`, –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –π–æ–≥–æ.

### –û–¥–∏–Ω logical change = –æ–¥–∏–Ω task
–†–æ–∑–±–∏–≤–∞–π —Å–∫–ª–∞–¥–Ω—ñ –∑–º—ñ–Ω–∏ –Ω–∞ –º–µ–Ω—à—ñ.

### –ñ–æ–¥–Ω–∏—Ö ‚Äúrefactor all‚Äù
–ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ: ‚ÄúRefactor all UI code‚Äù, ‚ÄúClean up all files‚Äù, ‚ÄúOptimize everything‚Äù.

## üèóÔ∏è Architecture Rules

### Compute Layer (`src/compute/**`)
**–ú–æ–∂–µ:**
- —á–∏—Ç–∞—Ç–∏ `data/canonical/`
- –ø–∏—Å–∞—Ç–∏ `data/compute/`
- —Ä–∞—Ö—É–≤–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏

**–ù–µ –º–æ–∂–µ:**
- –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ UI
- –ø–∏—Å–∞—Ç–∏ –≤ UI state

### UI Layer (`src/app/**`)
**–ú–æ–∂–µ:**
- —á–∏—Ç–∞—Ç–∏ `data/compute/`
- —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏/—Ñ–æ—Ä–º–∞—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ
- —Ä–µ–Ω–¥–µ—Ä–∏—Ç–∏ UI

**–ù–µ –º–æ–∂–µ:**
- –ø–∏—Å–∞—Ç–∏ –≤ `data/`
- —Ä–∞—Ö—É–≤–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏

‚ö†Ô∏è –í–∏–Ω—è—Ç–æ–∫: admin –∫–Ω–æ–ø–∫–∞ **Run compute** –≤ `Overview` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –ø–∞–π–ø–ª–∞–π–Ω—É.

## üîß Entrypoint

**Streamlit Cloud:** `app.py` (root)  
**–õ–æ–∫–∞–ª—å–Ω–æ:** `streamlit run src/app/app.py` –∞–±–æ `streamlit run app.py`

## üß™ Smoke Tests

```powershell
pytest tests/ -v
```

## üß≠ Common Pitfalls
- –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —É UI (–∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ)
- –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è `data/` —É UI (–∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ)
- –ü—Ä–∏—Ö–æ–≤–∞–Ω—ñ side-effects —É session_state

## üìö References
- `README.md`
- `docs/ARCHITECTURE.md`
- `docs/COMPUTE_METRICS.md`
- `_backup/RESTORE.md`

---

**Last updated:** 2026-01-20 (v1.2.9)
